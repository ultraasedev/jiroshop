2025-01-06 16:29:57 [ERROR]: Erreur globale: | {"metadata":{"error":{},"context":{}}}
2025-01-06 16:29:57 [ERROR]: Erreur dans le gestionnaire d'erreurs: Cannot read properties of undefined (reading 'includes') | {"metadata":{"stack":"TypeError: Cannot read properties of undefined (reading 'includes')\n    at analyzeError (C:\\Users\\MSI\\Desktop\\project\\jiro\\middlewares\\errorHandler.js:71:27)\n    at errorHandler (C:\\Users\\MSI\\Desktop\\project\\jiro\\middlewares\\errorHandler.js:33:31)\n    at execute (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:518:23)\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:519:27\n    at execute (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:518:23)\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:519:27\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:159:31\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:165:111\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async execute (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:518:17)"}}
2025-01-06 16:29:57 [ERROR]: Échec de la réponse finale: ctx.reply is not a function | {"metadata":{"stack":"TypeError: ctx.reply is not a function\n    at errorHandler (C:\\Users\\MSI\\Desktop\\project\\jiro\\middlewares\\errorHandler.js:55:23)\n    at execute (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:518:23)\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:519:27\n    at execute (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:518:23)\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:519:27\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:159:31\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:165:111\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async execute (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:518:17)\n    at async C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:519:21"}}
2025-01-06 16:34:31 [ERROR]: Erreur globale: | {"metadata":{"error":{},"context":{}}}
2025-01-06 16:34:31 [ERROR]: Erreur dans le gestionnaire d'erreurs: Cannot read properties of undefined (reading 'includes') | {"metadata":{"stack":"TypeError: Cannot read properties of undefined (reading 'includes')\n    at analyzeError (C:\\Users\\MSI\\Desktop\\project\\jiro\\middlewares\\errorHandler.js:71:27)\n    at errorHandler (C:\\Users\\MSI\\Desktop\\project\\jiro\\middlewares\\errorHandler.js:33:31)\n    at execute (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:518:23)\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:519:27\n    at execute (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:518:23)\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:519:27\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:159:31\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:165:111\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async execute (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:518:17)"}}
2025-01-06 16:34:31 [ERROR]: Échec de la réponse finale: ctx.reply is not a function | {"metadata":{"stack":"TypeError: ctx.reply is not a function\n    at errorHandler (C:\\Users\\MSI\\Desktop\\project\\jiro\\middlewares\\errorHandler.js:55:23)\n    at execute (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:518:23)\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:519:27\n    at execute (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:518:23)\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:519:27\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:159:31\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:165:111\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async execute (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:518:17)\n    at async C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:519:21"}}
2025-01-06 16:34:52 [ERROR]: Erreur globale: | {"metadata":{"error":{},"context":{}}}
2025-01-06 16:34:52 [ERROR]: Erreur dans le gestionnaire d'erreurs: Cannot read properties of undefined (reading 'includes') | {"metadata":{"stack":"TypeError: Cannot read properties of undefined (reading 'includes')\n    at analyzeError (C:\\Users\\MSI\\Desktop\\project\\jiro\\middlewares\\errorHandler.js:71:27)\n    at errorHandler (C:\\Users\\MSI\\Desktop\\project\\jiro\\middlewares\\errorHandler.js:33:31)\n    at execute (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:518:23)\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:519:27\n    at execute (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:518:23)\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:519:27\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:159:31\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:165:111\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async execute (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:518:17)"}}
2025-01-06 16:34:52 [ERROR]: Échec de la réponse finale: ctx.reply is not a function | {"metadata":{"stack":"TypeError: ctx.reply is not a function\n    at errorHandler (C:\\Users\\MSI\\Desktop\\project\\jiro\\middlewares\\errorHandler.js:55:23)\n    at execute (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:518:23)\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:519:27\n    at execute (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:518:23)\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:519:27\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:159:31\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:165:111\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async execute (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:518:17)\n    at async C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:519:21"}}
2025-01-06 16:35:31 [ERROR]: Erreur globale: | {"metadata":{"error":{},"context":{}}}
2025-01-06 16:35:31 [ERROR]: Erreur dans le gestionnaire d'erreurs: Cannot read properties of undefined (reading 'includes') | {"metadata":{"stack":"TypeError: Cannot read properties of undefined (reading 'includes')\n    at analyzeError (C:\\Users\\MSI\\Desktop\\project\\jiro\\middlewares\\errorHandler.js:71:27)\n    at errorHandler (C:\\Users\\MSI\\Desktop\\project\\jiro\\middlewares\\errorHandler.js:33:31)\n    at execute (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:518:23)\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:519:27\n    at execute (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:518:23)\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:519:27\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:159:31\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:165:111\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async execute (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:518:17)"}}
2025-01-06 16:35:31 [ERROR]: Échec de la réponse finale: ctx.reply is not a function | {"metadata":{"stack":"TypeError: ctx.reply is not a function\n    at errorHandler (C:\\Users\\MSI\\Desktop\\project\\jiro\\middlewares\\errorHandler.js:55:23)\n    at execute (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:518:23)\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:519:27\n    at execute (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:518:23)\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:519:27\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:159:31\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:165:111\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async execute (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:518:17)\n    at async C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:519:21"}}
2025-01-06 16:37:57 [ERROR]: Erreur globale: | {"metadata":{"error":{},"context":{}}}
2025-01-06 16:49:46 [ERROR]: Erreur détectée: | {"metadata":{"error":{"name":"Unknown Error","message":"No error message","stack":"No stack trace"},"context":{}}}
2025-01-06 16:55:25 [ERROR]: Erreur détectée: | {"metadata":{"error":{"name":"Unknown Error","message":"No error message","stack":"No stack trace"},"context":{}}}
2025-01-06 16:58:47 [ERROR]: Erreur détectée: | {"metadata":{"error":{"name":"Unknown","message":"No message"},"context":{}}}
2025-01-06 17:02:24 [ERROR]: Erreur détectée: | {"metadata":{"error":{"name":"Unknown","message":"No message"},"context":{}}}
2025-01-06 17:07:42 [ERROR]: Erreur lors de l'initialisation du bot: 409: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running | {"metadata":{"response":{"ok":false,"error_code":409,"description":"Conflict: terminated by other getUpdates request; make sure that only one bot instance is running"},"on":{"method":"getUpdates","payload":{"timeout":50,"offset":57170100,"allowed_updates":[]}},"stack":"Error: 409: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running\n    at Telegram.callApi (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\core\\network\\client.js:315:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async [Symbol.asyncIterator] (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\core\\network\\polling.js:30:33)\n    at async Polling.loop (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\core\\network\\polling.js:73:30)\n    at async Telegraf.launch (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\telegraf.js:194:13)\n    at async TelegramShopBot.startBot (C:\\Users\\MSI\\Desktop\\project\\jiro\\index.js:213:13)\n    at async TelegramShopBot.initializeBot (C:\\Users\\MSI\\Desktop\\project\\jiro\\index.js:48:13)"}}
2025-01-06 17:08:05 [ERROR]: Erreur logging action: AdminLog validation failed: entityId: Path `entityId` is required., entityType: Path `entityType` is required., action: `edit_bot_name` is not a valid enum value for path `action`. | {"metadata":{"errors":{"entityId":{"name":"ValidatorError","message":"Path `entityId` is required.","properties":{"message":"Path `entityId` is required.","type":"required","path":"entityId"},"kind":"required","path":"entityId"},"entityType":{"name":"ValidatorError","message":"Path `entityType` is required.","properties":{"message":"Path `entityType` is required.","type":"required","path":"entityType"},"kind":"required","path":"entityType"},"action":{"name":"ValidatorError","message":"`edit_bot_name` is not a valid enum value for path `action`.","properties":{"message":"`edit_bot_name` is not a valid enum value for path `action`.","type":"enum","enumValues":["add_product","edit_product_name","edit_product_price","edit_product_description","edit_product_category","edit_product_stock","delete_product","toggle_product","add_category","edit_category_name","edit_category_description","edit_category_image","edit_category_order","delete_category","toggle_category","view_order","approve_order","reject_order","mark_delivered","complete_order","cancel_order","refund_order","add_payment_method","edit_payment_method","toggle_payment_method","approve_payment","reject_payment","verify_payment","edit_payment_fees","edit_payment_limits","ban_user","unban_user","add_user_note","contact_user","warn_user","edit_bot_settings","edit_security_settings","edit_notification_settings","edit_payment_settings","create_backup","restore_backup","view_stats","export_stats","generate_report","email_report"],"path":"action","value":"edit_bot_name"},"kind":"enum","path":"action","value":"edit_bot_name"}},"_message":"AdminLog validation failed","stack":"ValidationError: AdminLog validation failed: entityId: Path `entityId` is required., entityType: Path `entityType` is required., action: `edit_bot_name` is not a valid enum value for path `action`.\n    at Document.invalidate (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongoose\\lib\\document.js:3331:32)\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongoose\\lib\\document.js:3092:17\n    at C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)"}}
2025-01-06 17:08:05 [ERROR]: Erreur modification nom bot: this.clearAdminState is not a function | {"metadata":{"stack":"TypeError: this.clearAdminState is not a function\n    at AdminController.handleBotNameEdit (C:\\Users\\MSI\\Desktop\\project\\jiro\\controllers\\AdminController.js:4554:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Users\\MSI\\Desktop\\project\\jiro\\controllers\\AdminController.js:213:21\n    at async execute (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:518:17)\n    at async C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:519:21\n    at async execute (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:518:17)\n    at async C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:519:21\n    at async execute (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:518:17)\n    at async C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:519:21\n    at async execute (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\telegraf\\lib\\composer.js:518:17)"}}
2025-01-07 09:27:52 [ERROR]: Erreur lors de la réinitialisation des suspensions: getaddrinfo ENOTFOUND jiroshop-shard-00-02.umpsu.mongodb.net | {"metadata":{"reason":{"type":"ReplicaSetNoPrimary","servers":{"jiroshop-shard-00-02.umpsu.mongodb.net:27017":{"address":"jiroshop-shard-00-02.umpsu.mongodb.net:27017","type":"Unknown","hosts":[],"passives":[],"arbiters":[],"tags":{},"minWireVersion":0,"maxWireVersion":0,"roundTripTime":-1,"minRoundTripTime":0,"lastUpdateTime":484592535,"lastWriteDate":0,"error":{},"topologyVersion":null,"setName":null,"setVersion":null,"electionId":null,"logicalSessionTimeoutMinutes":null,"maxMessageSizeBytes":null,"maxWriteBatchSize":null,"maxBsonObjectSize":null,"primary":null,"me":null,"$clusterTime":null,"iscryptd":false},"jiroshop-shard-00-00.umpsu.mongodb.net:27017":{"address":"jiroshop-shard-00-00.umpsu.mongodb.net:27017","type":"Unknown","hosts":[],"passives":[],"arbiters":[],"tags":{},"minWireVersion":0,"maxWireVersion":0,"roundTripTime":-1,"minRoundTripTime":0,"lastUpdateTime":484592474,"lastWriteDate":0,"error":{},"topologyVersion":null,"setName":null,"setVersion":null,"electionId":null,"logicalSessionTimeoutMinutes":null,"maxMessageSizeBytes":null,"maxWriteBatchSize":null,"maxBsonObjectSize":null,"primary":null,"me":null,"$clusterTime":null,"iscryptd":false},"jiroshop-shard-00-01.umpsu.mongodb.net:27017":{"address":"jiroshop-shard-00-01.umpsu.mongodb.net:27017","type":"Unknown","hosts":[],"passives":[],"arbiters":[],"tags":{},"minWireVersion":0,"maxWireVersion":0,"roundTripTime":-1,"minRoundTripTime":0,"lastUpdateTime":484592473,"lastWriteDate":0,"error":{},"topologyVersion":null,"setName":null,"setVersion":null,"electionId":null,"logicalSessionTimeoutMinutes":null,"maxMessageSizeBytes":null,"maxWriteBatchSize":null,"maxBsonObjectSize":null,"primary":null,"me":null,"$clusterTime":null,"iscryptd":false}},"stale":false,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"setName":"atlas-qy49pv-shard-0","maxElectionId":{"$oid":"7fffffff00000000000000ba"},"maxSetVersion":15,"commonWireVersion":0,"logicalSessionTimeoutMinutes":null},"stack":"MongoServerSelectionError: getaddrinfo ENOTFOUND jiroshop-shard-00-02.umpsu.mongodb.net\n    at Topology.selectServer (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongodb\\lib\\sdam\\topology.js:320:38)\n    at async tryOperation (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:143:18)\n    at async executeOperation (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:73:16)\n    at async Collection.updateMany (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongodb\\lib\\collection.js:231:16)\n    at async model.Query.exec (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongoose\\lib\\query.js:4438:63)\n    at async Timeout._onTimeout (C:\\Users\\MSI\\Desktop\\project\\jiro\\middlewares\\securityMiddleware.js:79:9)","cause":{}}}
2025-01-07 09:27:52 [ERROR]: Erreur surveillance messages non lus: getaddrinfo ENOTFOUND jiroshop-shard-00-02.umpsu.mongodb.net | {"metadata":{"reason":{"type":"ReplicaSetNoPrimary","servers":{"jiroshop-shard-00-02.umpsu.mongodb.net:27017":{"address":"jiroshop-shard-00-02.umpsu.mongodb.net:27017","type":"Unknown","hosts":[],"passives":[],"arbiters":[],"tags":{},"minWireVersion":0,"maxWireVersion":0,"roundTripTime":-1,"minRoundTripTime":0,"lastUpdateTime":484592535,"lastWriteDate":0,"error":{},"topologyVersion":null,"setName":null,"setVersion":null,"electionId":null,"logicalSessionTimeoutMinutes":null,"maxMessageSizeBytes":null,"maxWriteBatchSize":null,"maxBsonObjectSize":null,"primary":null,"me":null,"$clusterTime":null,"iscryptd":false},"jiroshop-shard-00-00.umpsu.mongodb.net:27017":{"address":"jiroshop-shard-00-00.umpsu.mongodb.net:27017","type":"Unknown","hosts":[],"passives":[],"arbiters":[],"tags":{},"minWireVersion":0,"maxWireVersion":0,"roundTripTime":-1,"minRoundTripTime":0,"lastUpdateTime":484592474,"lastWriteDate":0,"error":{},"topologyVersion":null,"setName":null,"setVersion":null,"electionId":null,"logicalSessionTimeoutMinutes":null,"maxMessageSizeBytes":null,"maxWriteBatchSize":null,"maxBsonObjectSize":null,"primary":null,"me":null,"$clusterTime":null,"iscryptd":false},"jiroshop-shard-00-01.umpsu.mongodb.net:27017":{"address":"jiroshop-shard-00-01.umpsu.mongodb.net:27017","type":"Unknown","hosts":[],"passives":[],"arbiters":[],"tags":{},"minWireVersion":0,"maxWireVersion":0,"roundTripTime":-1,"minRoundTripTime":0,"lastUpdateTime":484592473,"lastWriteDate":0,"error":{},"topologyVersion":null,"setName":null,"setVersion":null,"electionId":null,"logicalSessionTimeoutMinutes":null,"maxMessageSizeBytes":null,"maxWriteBatchSize":null,"maxBsonObjectSize":null,"primary":null,"me":null,"$clusterTime":null,"iscryptd":false}},"stale":false,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"setName":"atlas-qy49pv-shard-0","maxElectionId":{"$oid":"7fffffff00000000000000ba"},"maxSetVersion":15,"commonWireVersion":0,"logicalSessionTimeoutMinutes":null},"stack":"MongoServerSelectionError: getaddrinfo ENOTFOUND jiroshop-shard-00-02.umpsu.mongodb.net\n    at Topology.selectServer (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongodb\\lib\\sdam\\topology.js:320:38)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:575:9)\n    at process.processTimers (node:internal/timers:549:7)\n    at async tryOperation (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:143:18)\n    at async executeOperation (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:73:16)\n    at async FindCursor._initialize (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongodb\\lib\\cursor\\find_cursor.js:60:26)\n    at async FindCursor.cursorInit (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:607:27)\n    at async FindCursor.fetchBatch (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:641:13)\n    at async FindCursor.next (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:323:17)","cause":{}}}
2025-01-07 09:27:52 [ERROR]: Erreur surveillance commandes en attente: getaddrinfo ENOTFOUND jiroshop-shard-00-02.umpsu.mongodb.net | {"metadata":{"reason":{"type":"ReplicaSetNoPrimary","servers":{"jiroshop-shard-00-02.umpsu.mongodb.net:27017":{"address":"jiroshop-shard-00-02.umpsu.mongodb.net:27017","type":"Unknown","hosts":[],"passives":[],"arbiters":[],"tags":{},"minWireVersion":0,"maxWireVersion":0,"roundTripTime":-1,"minRoundTripTime":0,"lastUpdateTime":484592535,"lastWriteDate":0,"error":{},"topologyVersion":null,"setName":null,"setVersion":null,"electionId":null,"logicalSessionTimeoutMinutes":null,"maxMessageSizeBytes":null,"maxWriteBatchSize":null,"maxBsonObjectSize":null,"primary":null,"me":null,"$clusterTime":null,"iscryptd":false},"jiroshop-shard-00-00.umpsu.mongodb.net:27017":{"address":"jiroshop-shard-00-00.umpsu.mongodb.net:27017","type":"Unknown","hosts":[],"passives":[],"arbiters":[],"tags":{},"minWireVersion":0,"maxWireVersion":0,"roundTripTime":-1,"minRoundTripTime":0,"lastUpdateTime":484592474,"lastWriteDate":0,"error":{},"topologyVersion":null,"setName":null,"setVersion":null,"electionId":null,"logicalSessionTimeoutMinutes":null,"maxMessageSizeBytes":null,"maxWriteBatchSize":null,"maxBsonObjectSize":null,"primary":null,"me":null,"$clusterTime":null,"iscryptd":false},"jiroshop-shard-00-01.umpsu.mongodb.net:27017":{"address":"jiroshop-shard-00-01.umpsu.mongodb.net:27017","type":"Unknown","hosts":[],"passives":[],"arbiters":[],"tags":{},"minWireVersion":0,"maxWireVersion":0,"roundTripTime":-1,"minRoundTripTime":0,"lastUpdateTime":484592473,"lastWriteDate":0,"error":{},"topologyVersion":null,"setName":null,"setVersion":null,"electionId":null,"logicalSessionTimeoutMinutes":null,"maxMessageSizeBytes":null,"maxWriteBatchSize":null,"maxBsonObjectSize":null,"primary":null,"me":null,"$clusterTime":null,"iscryptd":false}},"stale":false,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"setName":"atlas-qy49pv-shard-0","maxElectionId":{"$oid":"7fffffff00000000000000ba"},"maxSetVersion":15,"commonWireVersion":0,"logicalSessionTimeoutMinutes":null},"stack":"MongoServerSelectionError: getaddrinfo ENOTFOUND jiroshop-shard-00-02.umpsu.mongodb.net\n    at Topology.selectServer (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongodb\\lib\\sdam\\topology.js:320:38)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:575:9)\n    at process.processTimers (node:internal/timers:549:7)\n    at async tryOperation (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:143:18)\n    at async executeOperation (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:73:16)\n    at async FindCursor._initialize (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongodb\\lib\\cursor\\find_cursor.js:60:26)\n    at async FindCursor.cursorInit (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:607:27)\n    at async FindCursor.fetchBatch (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:641:13)\n    at async FindCursor.next (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:323:17)","cause":{}}}
2025-01-07 09:27:52 [ERROR]: Erreur nettoyage commandes expirées: getaddrinfo ENOTFOUND jiroshop-shard-00-02.umpsu.mongodb.net | {"metadata":{"reason":{"type":"ReplicaSetNoPrimary","servers":{"jiroshop-shard-00-02.umpsu.mongodb.net:27017":{"address":"jiroshop-shard-00-02.umpsu.mongodb.net:27017","type":"Unknown","hosts":[],"passives":[],"arbiters":[],"tags":{},"minWireVersion":0,"maxWireVersion":0,"roundTripTime":-1,"minRoundTripTime":0,"lastUpdateTime":484592535,"lastWriteDate":0,"error":{},"topologyVersion":null,"setName":null,"setVersion":null,"electionId":null,"logicalSessionTimeoutMinutes":null,"maxMessageSizeBytes":null,"maxWriteBatchSize":null,"maxBsonObjectSize":null,"primary":null,"me":null,"$clusterTime":null,"iscryptd":false},"jiroshop-shard-00-00.umpsu.mongodb.net:27017":{"address":"jiroshop-shard-00-00.umpsu.mongodb.net:27017","type":"Unknown","hosts":[],"passives":[],"arbiters":[],"tags":{},"minWireVersion":0,"maxWireVersion":0,"roundTripTime":-1,"minRoundTripTime":0,"lastUpdateTime":484592474,"lastWriteDate":0,"error":{},"topologyVersion":null,"setName":null,"setVersion":null,"electionId":null,"logicalSessionTimeoutMinutes":null,"maxMessageSizeBytes":null,"maxWriteBatchSize":null,"maxBsonObjectSize":null,"primary":null,"me":null,"$clusterTime":null,"iscryptd":false},"jiroshop-shard-00-01.umpsu.mongodb.net:27017":{"address":"jiroshop-shard-00-01.umpsu.mongodb.net:27017","type":"Unknown","hosts":[],"passives":[],"arbiters":[],"tags":{},"minWireVersion":0,"maxWireVersion":0,"roundTripTime":-1,"minRoundTripTime":0,"lastUpdateTime":484592473,"lastWriteDate":0,"error":{},"topologyVersion":null,"setName":null,"setVersion":null,"electionId":null,"logicalSessionTimeoutMinutes":null,"maxMessageSizeBytes":null,"maxWriteBatchSize":null,"maxBsonObjectSize":null,"primary":null,"me":null,"$clusterTime":null,"iscryptd":false}},"stale":false,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"setName":"atlas-qy49pv-shard-0","maxElectionId":{"$oid":"7fffffff00000000000000ba"},"maxSetVersion":15,"commonWireVersion":0,"logicalSessionTimeoutMinutes":null},"stack":"MongoServerSelectionError: getaddrinfo ENOTFOUND jiroshop-shard-00-02.umpsu.mongodb.net\n    at Topology.selectServer (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongodb\\lib\\sdam\\topology.js:320:38)\n    at async tryOperation (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:143:18)\n    at async executeOperation (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:73:16)\n    at async FindCursor._initialize (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongodb\\lib\\cursor\\find_cursor.js:60:26)\n    at async FindCursor.cursorInit (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:607:27)\n    at async FindCursor.fetchBatch (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:641:13)\n    at async FindCursor.next (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:323:17)\n    at async [Symbol.asyncIterator] (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:240:34)\n    at async FindCursor.toArray (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:400:26)\n    at async model.Query._find (C:\\Users\\MSI\\Desktop\\project\\jiro\\node_modules\\mongoose\\lib\\query.js:2363:14)","cause":{}}}
